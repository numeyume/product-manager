# 🧪 機能テストチェックリスト

## 📋 テスト概要

このチェックリストは、通販商品管理アプリの全機能が正常に動作することを確認するためのものです。

**テスト環境**: 
- ブラウザ: Chrome/Firefox/Safari
- URL: http://localhost:3000
- 推奨テスト時間: 30-45分

---

## 🎯 基本機能テスト

### ✅ 認証・ログイン機能

**デモモード**
- [ ] 「デモログイン」ボタンが表示される
- [ ] デモログインクリックでダッシュボードに遷移
- [ ] デモユーザー名が画面に表示される
- [ ] ログアウト機能が動作する

**Google認証**
- [ ] 「Googleでログイン」ボタンが表示される
- [ ] Firebase設定が正しく動作する
- [ ] Googleアカウント選択画面が開く
- [ ] 認証後ダッシュボードに遷移する
- [ ] ユーザー情報が正しく表示される

### ✅ 商品登録機能

**手動登録**
- [ ] 「✏️ 手動登録」ボタンをクリック
- [ ] 商品登録フォームが開く
- [ ] 必須項目（商品名、価格、数量）の入力
- [ ] 保管場所の3階層設定（部屋→エリア→詳細）
- [ ] 利用場所・用途の複数登録
- [ ] カテゴリの自動分類
- [ ] 「登録」ボタンで商品一覧に追加される

**Gmail連携登録**
- [ ] 「Gmail連携」ボタンをクリック
- [ ] Google認証でGmailアクセス許可
- [ ] メール一覧が表示される
- [ ] Amazon/楽天/メルカリのメールが認識される
- [ ] メール選択で商品情報が自動抽出される
- [ ] 抽出された情報の確認・修正
- [ ] 登録完了で商品一覧に追加される

### ✅ 🚨 重複購入防止機能（核心機能）

**高精度重複検出**
- [ ] 既存商品と同じ商品名で手動登録を試行
- [ ] 🚨 赤色の高警告が表示される
- [ ] 類似度スコア80%以上が表示される
- [ ] 在庫状況が正しく表示される
- [ ] 「既存商品に追加」「新規登録」「キャンセル」選択肢

**類似商品検出**
- [ ] 類似商品名（例: 洗剤→洗剤詰替）で登録
- [ ] ⚠️ オレンジまたは💡 青色警告が表示される
- [ ] 類似度60-80%の表示
- [ ] 適切な警告レベルの判定

**URL完全一致検出**
- [ ] 同じ商品URLで異なる商品名を入力
- [ ] URL一致による高精度検出
- [ ] 40%重みでのスコア計算

**統合機能**
- [ ] 「既存商品に追加」で在庫数量が増加
- [ ] 元商品の情報保持
- [ ] 「新規登録」で別商品として追加
- [ ] 「キャンセル」で登録中止

### ✅ 在庫管理機能

**在庫操作**
- [ ] 商品一覧の「使用(-1)」ボタン動作
- [ ] 在庫数量の正確な減少
- [ ] 「＋」「－」ボタンでの細かい調整
- [ ] 在庫0時の「在庫切れ」表示
- [ ] マイナス在庫の防止機能

**在庫状態表示**
- [ ] 在庫ありの商品の正常表示
- [ ] 在庫切れ商品のグレーアウト
- [ ] 在庫数量の正確な表示
- [ ] 在庫状況の色分け

### ✅ 検索・フィルター機能

**検索機能**
- [ ] 商品名による部分一致検索
- [ ] 検索結果の即座反映
- [ ] 空文字での全件表示
- [ ] 大文字小文字の区別なし検索

**フィルター機能**
- [ ] カテゴリフィルター（食品、日用品等）
- [ ] 保管場所フィルター（部屋別）
- [ ] 在庫切れ非表示フィルター
- [ ] 複数フィルターの組み合わせ

### ✅ 商品編集・削除機能

**商品編集**
- [ ] 商品カードの「編集」ボタン
- [ ] 編集フォームの表示
- [ ] 全項目の編集可能性
- [ ] 利用場所の追加・削除
- [ ] 保存後の即座反映

**商品削除**
- [ ] 「削除」ボタンクリック
- [ ] 確認ダイアログの表示
- [ ] 削除実行で商品一覧から除外
- [ ] 「キャンセル」で削除中止

---

## 🏢 ビジネス機能テスト

### ✅ ビジネスモード切り替え

**モード切り替え**
- [ ] 画面上部の「🏢 ビジネス」トグル
- [ ] ビジネス機能の表示・非表示
- [ ] 統計情報の変更
- [ ] 商品登録フォームの拡張

### ✅ ビジネス専用機能

**仕入れ先・原価管理**
- [ ] 商品登録時の仕入れ先入力
- [ ] 原価・販売価格の入力
- [ ] 利益率の自動計算
- [ ] 原価情報の表示

**発注点管理**
- [ ] 発注点の設定
- [ ] 在庫が発注点以下になった時のアラート
- [ ] 発注必要商品の一覧表示
- [ ] 統計での発注点以下商品数表示

**在庫統計**
- [ ] 総在庫価値の計算・表示
- [ ] 発注点以下商品数の表示
- [ ] ビジネス向け統計の正確性

---

## 📱 PWA・無意識化機能テスト

### ✅ PWA設定

**PWA機能**
- [ ] 「🚀 無意識化設定」ボタン
- [ ] PWAインストールプロンプト
- [ ] ホーム画面への追加（モバイル）
- [ ] アプリライクな動作

**プッシュ通知**
- [ ] 通知許可の要求
- [ ] 通知設定の保存
- [ ] テスト通知の動作（現在は無効化中）

**ブックマークレット**
- [ ] ブックマークレットコードの表示
- [ ] ブラウザへの登録手順表示
- [ ] ECサイトでの動作説明

---

## 🔧 システム機能テスト

### ✅ データ永続化

**デモモード**
- [ ] ローカルストレージでのデータ保存
- [ ] ページリロード後のデータ保持
- [ ] デモデータの初期化

**Firebase連携**
- [ ] Firestoreでのデータ保存
- [ ] リアルタイム同期
- [ ] 複数デバイス間でのデータ共有

### ✅ エラーハンドリング

**入力検証**
- [ ] 必須項目未入力時のエラー表示
- [ ] 数値項目への文字入力防止
- [ ] 不正な価格・数量の拒否

**ネットワークエラー**
- [ ] オフライン時の適切なメッセージ
- [ ] Firebase接続エラー時の代替動作
- [ ] Gmail API エラー時の処理

### ✅ ユーザビリティ

**レスポンシブデザイン**
- [ ] デスクトップでの表示
- [ ] タブレットでの表示
- [ ] スマートフォンでの表示
- [ ] 画面回転への対応

**アクセシビリティ**
- [ ] キーボードナビゲーション
- [ ] 適切なコントラスト
- [ ] スクリーンリーダー対応（基本）

---

## 📖 ガイド・ヘルプ機能テスト

### ✅ 使い方ガイド

**ガイド表示**
- [ ] 「📖 使い方」ボタン
- [ ] ガイドモーダルの表示
- [ ] セクション別の説明表示
- [ ] 個人/ビジネスモードの違い説明

**ガイド内容**
- [ ] セットアップ手順の説明
- [ ] 重複防止機能の詳細説明
- [ ] 操作方法の図解
- [ ] よくある質問への回答

### ✅ テストモード

**機能テスト**
- [ ] 「🧪 テストモード」ボタン
- [ ] 重複検出テストの実行
- [ ] サンプルデータでの検証
- [ ] テスト結果の表示

---

## 🎯 高度な機能テスト

### ✅ 保管場所管理

**保管場所設定**
- [ ] 「保管場所管理」機能
- [ ] 3階層での場所管理
- [ ] 場所の追加・編集・削除
- [ ] 階層的な場所選択

### ✅ 利用場所・用途管理

**複数用途登録**
- [ ] 一つの商品への複数用途設定
- [ ] 用途の追加・削除
- [ ] 用途別での商品検索
- [ ] 用途情報の表示

---

## ⚡ パフォーマンステスト

### ✅ 動作速度

**検索・フィルター**
- [ ] 大量データ（100件以上）での検索速度
- [ ] フィルター適用の応答速度
- [ ] 画面遷移の滑らかさ

**重複検出**
- [ ] 類似度計算の速度（50ms以下目標）
- [ ] 大量商品でのリアルタイム検出
- [ ] UI応答性の維持

---

## 📊 テスト完了判定

### 合格基準
- [ ] **基本機能**: 95%以上のテスト項目が合格
- [ ] **重複防止**: 100%のテスト項目が合格（核心機能）
- [ ] **ビジネス機能**: 90%以上のテスト項目が合格
- [ ] **クリティカルバグ**: 0件
- [ ] **パフォーマンス**: 全項目で基準値クリア

### テスト実行者署名
```
テスト実行日: ___________
テスト実行者: ___________
合格項目数: _____ / 総項目数
総合評価: [ 合格 / 再テスト必要 / 不合格 ]
```

---

## 🚀 テスト完了後の推奨アクション

1. **バグ修正**: 発見された問題の修正
2. **ドキュメント更新**: 新機能の説明追加
3. **デプロイ準備**: 本番環境への反映準備
4. **ユーザー向けガイド**: 利用者向け説明資料の更新